---
- name: disable swap
  tags: always
  command: swapoff -a
  register: swapoff

- name: swapoff result
  debug:
    var: swapoff.stdout

# trun off swap permanently

# Verify the MAC address and product_uuid are unique for every node

# Check required ports 

# Installing a container runtime


# Installing kubeadm, kubelet and kubectl
- name: add kubernetes repo to dnf
  copy:
    content: |
      [kubernetes]
      name=Kubernetes
      baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-fedora-$releasever-$basearch
      enabled=1
      gpgcheck=1
      repo_gpgcheck=1
      gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
      exclude=kube*
    dest: /etc/yum.repos.d/kubernetes.repo

- name: install kubernetes-kubeadm, kubectl, kubelet
  package:
    name: kubeadm, kubectl, kubelet
    state: latest

# Configuring a cgroup driver

#

#

#

#

#
